<!DOCTYPE html>
<html>
    <head>
        <title>Main Pages</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
	    <link rel="icon" type="image/x-icon" href="favicon.ico">
        <script type="text/javascript" src="scripts/tabs.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/alfg/ping.js@0.2.2/dist/ping.min.js" type="text/javascript"></script>
    </head>
    <body style="background: dimgray;">
        <script type="text/javascript">
            var isLocalhost = true;
            function getAddress(url, localUrl, https) {
                return (https ? "https" : "http") + '\:\/\/' + (isLocalhost ? localUrl : 'box.faustvx.fr') + url;
            }
            console.log('ping 192.168.1.55');
            new Ping({favicon:"/web/favicon.ico"}).ping("http://192.168.1.55:32400/web/index.html#", function (err, data) {
                if (err) {
                    isLocalhost = false;
                }
                console.log('isLocalhost: ' + isLocalhost);
                
                console.log('createTabs');
                var bar = createTabHeader(document.getElementsByTagName("body")[0]);
                bar.insertTab('domoticz', getAddress(':90/#/Login', '192.168.1.55', false), 'Domoticz', true);
                bar.insertTab('transmission', getAddress(':9091/transmission/web/', '192.168.1.55', false), 'Transmission');
                bar.insertTab('plex', getAddress(':32400/web/index.html#', '192.168.1.55', false), 'Plex');
                bar.insertTab('freebox', 'https\:\/\/box.faustvx.fr:6688', 'FreeBox');
                bar.openDefault();
                console.log('tabs created');
            });
        </script>
    </body>
</html>
